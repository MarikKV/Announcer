(this.webpackJsonpannouncer=this.webpackJsonpannouncer||[]).push([[0],{55:function(e,t,n){},66:function(e,t,n){e.exports=n(95)},80:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(19),r=n.n(l),o=n(47),u=n(9),i=n(37),s=n(8),d=n(7),m=function(e){return{type:"SAVE_USER_IN_STORE",payload:e}},E=function(e){return{type:"GET_ALL_ANNOUNCES",payload:e}},f=function(e){return{type:"GET_ALL_USER_ANNOUNCES",payload:e}},h=n(5);n(54),n(78);h.initializeApp({apiKey:"AIzaSyBXB-_qUAcdqzMRwH1LfMpQF9Bx69TSxWI",authDomain:"announcer-55703.firebaseapp.com",databaseURL:"https://announcer-55703.firebaseio.com",projectId:"announcer-55703",storageBucket:"announcer-55703.appspot.com",messagingSenderId:"200206777207",appId:"1:200206777207:web:28d190a83008f14f4c7f72"});var b=h.firestore(),g=n(102),v=n(101),p=n(100),O=n(59),A=n(97);n(80);function _(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(d.c)((function(e){return e.isLogged})),o=Object(d.b)();return c.a.createElement("div",{className:"menu"},c.a.createElement(g.a,Object(i.a)({bg:"primary",variant:"dark",className:"menuFixed",collapseOnSelect:!0,expand:"lg"},"bg","dark"),c.a.createElement(g.a.Brand,{href:"/"},"Announcer"),c.a.createElement(g.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r?c.a.createElement(g.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(v.a,{className:"mr-auto"},c.a.createElement(v.a.Link,{href:"#/Home"},"Home"),c.a.createElement(v.a.Link,{href:"#/AllAnnounces"},"All announces"),c.a.createElement(v.a.Link,{href:"#/MyAnnounces"},"My announces"),c.a.createElement(v.a.Link,{href:"#/Messages"},"Messages"),c.a.createElement(v.a.Link,{href:"#/About"},"About")),c.a.createElement(p.a,{inline:!0,onSubmit:function(e){e.preventDefault(),o({type:"SEARCH_ANNOUNCE",payload:n}),window.location="#/Search"}},c.a.createElement(O.a,{type:"text",placeholder:"Search",className:"mr-sm-2",value:n,onChange:function(e){return l(e.target.value)}}),c.a.createElement(A.a,{type:"submit"},"Submit")),c.a.createElement(v.a.Link,{href:"",onClick:function(){return h.auth().signOut(),o({type:"SIGN_IN"}),void o(m({}))},className:"navLink"},"Log Out")):c.a.createElement(g.a.Collapse,{className:"justify-content-end"},c.a.createElement(v.a.Link,{href:"#/SignIn",className:"navLink"},"Sign In"))))}n(82);function j(){return c.a.createElement("div",{className:"landing"},c.a.createElement("div",{className:"landing_box welcome animate__animated animate__bounce"},"Welcome to Announcer!"),c.a.createElement("div",{className:"landing_box join animate__animated animate__bounceInRight animate__delay-1s"},"Join to us"),c.a.createElement("div",{className:"landing_box create animate__animated animate__bounceInLeft animate__delay-2s"},"Create your announcement"),c.a.createElement("div",{className:"landing_box save animate__animated animate__bounceInUp animate__delay-3s"},"Save and edit them"),c.a.createElement("a",{className:"about animate__animated animate__fadeIn animate__delay-4s",href:"#/About"},"About this project"))}var y=n(14);function S(e){return c.a.createElement("tr",{key:e.index},c.a.createElement("td",null,e.index+1),c.a.createElement("td",null,e.data.title),c.a.createElement("td",{className:"table_deskribe"},e.data.describe),c.a.createElement("td",null,c.a.createElement("b",null,function(e){var t=Date(e),n=new Date(t);return(n.getDate()<10?"0".concat(n.getDate()):n.getDate())+"/"+(n.getMonth()+1<10?"0".concat(n.getMonth()+1):n.getMonth()+1)+"/"+n.getFullYear()}(e.data.date))),c.a.createElement("td",null,c.a.createElement(A.a,{variant:"warning",value:e.data.id,onClick:function(t){return e.showModal(t.target.value)}},"Reply")))}var N=n(98),I=(n(55),n(99));function w(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),l=n[0],r=n[1],o=Object(d.c)((function(e){return e.saveUserInStore}));return Object(a.useEffect)((function(){}),[e]),c.a.createElement(I.a,{show:e.show,onHide:e.handleClose},c.a.createElement(I.a.Header,{closeButton:!0},c.a.createElement(I.a.Title,null,"Editing announce")),c.a.createElement(I.a.Body,null,c.a.createElement(p.a,null,c.a.createElement(p.a.Label,null,"Message"),c.a.createElement(p.a.Control,{as:"textarea",rows:"4",value:l,onChange:function(e){return r(e.target.value)}}))),c.a.createElement(I.a.Footer,null,c.a.createElement(A.a,{variant:"secondary",onClick:e.handleClose},"Close"),c.a.createElement(A.a,{variant:"primary",onClick:function(){var t={message:l,from:o.id,name:o.name,photo:o.photoUrl,to:e.data.userId,title:e.data.title,annId:e.data.id,date:Date.now()};b.collection("Messages").doc().set(t).then((function(){console.log("Message successfully added!")})).catch((function(e){console.error("Message adding error: ",e)})),setTimeout((function(){r(""),e.handleClose()}),500)}},"Send Message")))}function C(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)(!1),o=Object(s.a)(r,2),u=o[0],i=o[1],m=function(){return i(!0)},f=Object(d.c)((function(e){return e.allAnnounces})),h=Object(d.c)((function(e){return e.saveUserInStore})),g=Object(d.b)(),v=function(){b.collection("Announce").get().then((function(e){var t=e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}));(t=t.filter((function(e){return e.userId!==h.id}))).sort((function(e,t){return e.date-t.date})),g(E(t))})).catch((function(e){return console.log(e)}))},p=function(e){b.collection("Announce").doc(e).get().then((function(t){if(!t.exists)return console.log("Anoounce not found"),null;var n=t.data(),a={id:e,title:n.title,describe:n.describe,userId:n.userId};l(a),m()})).catch((function(e){console.log(e)}))};return Object(a.useEffect)((function(){b.collection("Announce").get().then((function(e){var t=e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}));(t=t.filter((function(e){return e.userId!==h.id}))).sort((function(e,t){return e.date-t.date})),g(E(t))})).catch((function(e){return console.log(e)}))}),[g,h.id]),c.a.createElement("div",null,c.a.createElement("h1",{align:"center"},"All announces"),c.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Title"),c.a.createElement("th",null,"Describe"),c.a.createElement("th",null,"Add at"),c.a.createElement("th",null,"Reply"))),c.a.createElement("tbody",null,f.map((function(e,t){return c.a.createElement(S,{key:t,data:e,index:t,gettodos:v,showModal:p})})))),c.a.createElement(w,{handleClose:function(){return i(!1)},handleShow:m,show:u,data:n}))}n(83);function k(){var e=Object(d.c)((function(e){return e.saveUserInStore})),t=Object(d.b)(),n=Object(a.useState)(""),l=Object(s.a)(n,2),r=l[0],o=l[1],u=Object(a.useState)(""),i=Object(s.a)(u,2),m=i[0],E=i[1],h=function(){b.collection("Announce").where("userId","==",e.id).get().then((function(e){var n=e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}));console.log(n),t(f(n))})).catch((function(e){return console.log(e)}))};return c.a.createElement("div",null,c.a.createElement("div",{className:"addNewAnnounceForm"},c.a.createElement(p.a,{onSubmit:function(n){n.preventDefault(),console.log("Title - ".concat(r,". Describe - ").concat(m,"."));var a={title:r,describe:m,userId:e.id};t({type:"ADD_ANNOUNCE",payload:a}),b.collection("Announce").doc().set({userId:e.id,title:r,describe:m,date:Date.now()}).then((function(){console.log("Announce successfully added!"),h(),o(""),E("")})).catch((function(e){console.error("Error adding announce: ",e)}))},className:"form"},c.a.createElement(p.a.Label,null,"Title"),c.a.createElement(p.a.Control,{type:"text",value:r,onChange:function(e){return o(e.target.value)}}),c.a.createElement(p.a.Label,null,"Describe"),c.a.createElement(p.a.Control,{as:"textarea",rows:"3",value:m,onChange:function(e){return E(e.target.value)}}),c.a.createElement(A.a,{type:"submit"},"Add new announce"))))}function D(e){return c.a.createElement("tr",{key:e.index},c.a.createElement("td",null,e.index+1),c.a.createElement("td",null,e.data.title),c.a.createElement("td",{className:"table_deskribe"},e.data.describe),c.a.createElement("td",null,c.a.createElement("b",null,function(e){var t=Date(e),n=new Date(t);return(n.getDate()<10?"0".concat(n.getDate()):n.getDate())+"/"+(n.getMonth()+1<10?"0".concat(n.getMonth()+1):n.getMonth()+1)+"/"+n.getFullYear()}(e.data.date))),c.a.createElement("td",null,c.a.createElement(A.a,{variant:"warning",value:e.data.id,onClick:function(t){return e.showModal(t.target.value)}},"Edit")),c.a.createElement("td",null,c.a.createElement(A.a,{variant:"danger",value:e.data.id,onClick:function(t){return n=t.target.value,void b.collection("Announce").doc(n).delete().then((function(){console.log("Annaunce successfully deleted!"),e.gettodos()})).catch((function(e){console.error("Error removing announce: ",e)}));var n}},"Delete")))}function L(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),l=n[0],r=n[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),i=u[0],d=u[1];return Object(a.useEffect)((function(){r(e.title),d(e.describe)}),[e]),c.a.createElement(I.a,{show:e.show,onHide:e.handleClose},c.a.createElement(I.a.Header,{closeButton:!0},c.a.createElement(I.a.Title,null,"Editing announce")),c.a.createElement(I.a.Body,null,c.a.createElement(p.a,null,c.a.createElement(p.a.Label,null,"Title"),c.a.createElement(p.a.Control,{value:l,onChange:function(e){return r(e.target.value)}}),c.a.createElement(p.a.Label,null,"Describe"),c.a.createElement(p.a.Control,{as:"textarea",rows:"4",value:i,onChange:function(e){return d(e.target.value)}}))),c.a.createElement(I.a.Footer,null,c.a.createElement(A.a,{variant:"secondary",onClick:e.handleClose},"Close"),c.a.createElement(A.a,{variant:"primary",onClick:function(){b.collection("Announce").doc(e.id).update({title:l,describe:i,date:Date.now()}).then((function(){console.log("Announce successfully edited!")})).catch((function(e){console.error("Error edit announce: ",e)})),setTimeout((function(){e.gettodos(),e.handleClose()}),500)}},"Save Changes")))}function x(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)(""),o=Object(s.a)(r,2),u=o[0],i=o[1],m=Object(a.useState)(""),E=Object(s.a)(m,2),h=E[0],g=E[1],v=Object(a.useState)(!1),p=Object(s.a)(v,2),O=p[0],A=p[1],_=function(){return A(!0)},j=Object(d.c)((function(e){return e.myAnnounces})),S=Object(d.c)((function(e){return e.saveUserInStore})),I=Object(a.useState)(!1),w=Object(s.a)(I,2),C=w[0],x=w[1],U=Object(d.b)(),M=function(){b.collection("Announce").where("userId","==",S.id).get().then((function(e){var t=e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}));t.sort((function(e,t){return e.date-t.date})),U(f(t))})).catch((function(e){return console.log(e)}))},R=function(e){b.collection("Announce").doc(e).get().then((function(t){if(!t.exists)return console.log("not found"),null;var n=t.data();l(e),i(n.title),g(n.describe),_()})).catch((function(e){console.log(e)}))};return Object(a.useEffect)((function(){b.collection("Announce").where("userId","==",S.id).get().then((function(e){var t=e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}));t.sort((function(e,t){return e.date-t.date})),U(f(t))})).catch((function(e){return console.log(e)}))}),[U,S.id]),c.a.createElement("div",{className:"allAnnounces animate__animated"},c.a.createElement("div",{className:C?"allAnnounces_Table_Active":"allAnnounces_Table"},c.a.createElement("h1",{align:"center"},"All announces"),c.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Title"),c.a.createElement("th",null,"Describe"),c.a.createElement("th",null,"Add at"),c.a.createElement("th",null,"Edit announce"),c.a.createElement("th",null,"Delete announce"))),c.a.createElement("tbody",null,j.map((function(e,t){return c.a.createElement(D,{key:t,data:e,index:t,gettodos:M,showModal:R})}))))),c.a.createElement("div",{className:C?"allAnnounces_Add        animate__animated animate__fadeOutRight":"allAnnounces_Add_Active animate__animated animate__fadeInRight"},c.a.createElement(k,null)),c.a.createElement("div",{className:"togleForm",onClick:function(){x(!C)}},C?"<":">"),c.a.createElement(L,{handleClose:function(){return A(!1)},handleShow:_,gettodos:M,show:O,id:n,title:u,describe:h}))}function U(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(d.c)((function(e){return e.saveUserInStore})),o=Object(d.b)();return Object(a.useEffect)((function(){b.collection("Messages").where("to","==",r.id).get().then((function(e){var t=e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}));t.sort((function(e,t){return e.date-t.date})),console.log(t),l(t)})).catch((function(e){return console.log(e)}))}),[o,r.id]),c.a.createElement("div",null,n.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{align:"center"},"\u0412\u0430\u0448\u0456 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"),c.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"From"),c.a.createElement("th",null,"Teme"),c.a.createElement("th",null,"Message"))),c.a.createElement("tbody",null,n.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,t+1),c.a.createElement("td",null,c.a.createElement("img",{src:e.photo,alt:"foto",width:"30px"})," ",e.name),c.a.createElement("td",null,e.title),c.a.createElement("td",null,e.message))}))))):c.a.createElement("h1",{align:"center"},"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u043d\u0435\u043c\u0430\u0454"))}var M=n(64),R=n.n(M);function T(){var e=Object(d.b)(),t={signInFlow:"popup",signInOptions:[h.auth.GoogleAuthProvider.PROVIDER_ID,h.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};return Object(a.useEffect)((function(){h.auth().onAuthStateChanged((function(t){if(t){var n={email:t.email,name:t.displayName,photoUrl:t.photoURL,emailVerified:t.emailVerified,id:t.uid};e({type:"SIGN_IN"}),e(m(n))}}))}),[e]),c.a.createElement("div",null,c.a.createElement(R.a,{uiConfig:t,firebaseAuth:h.auth()}))}n(91);function F(){var e=Object(d.c)((function(e){return e.isLogged})),t=Object(d.c)((function(e){return e.saveUserInStore}));return c.a.createElement("div",null,e?c.a.createElement("h1",{align:"center"},"You already logged as ",t.name," ",t.lastname):c.a.createElement(c.a.Fragment,null,c.a.createElement(T,null)))}n(92);function B(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(d.c)((function(e){return e.isLogged})),o=Object(d.c)((function(e){return e.saveUserInStore})),i=Object(d.c)((function(e){return e.allAnnounces})),m=Object(a.useState)(0),E=Object(s.a)(m,2),f=E[0],h=E[1];return Object(a.useEffect)((function(){h(i.length)}),[i]),n?c.a.createElement(u.a,{to:"Announce"}):c.a.createElement("div",null,r?c.a.createElement("div",{className:"mainInfoBlock animate__animated animate__bounceInUp"},c.a.createElement("div",{className:"infoBlock"},c.a.createElement("h1",null,"Welcome back ",o.name," ",o.lastname,"!"),c.a.createElement("h2",null,"We have ",c.a.createElement("span",{className:"lime"},f)," announces for you",c.a.createElement("br",null)),c.a.createElement("br",null),c.a.createElement(A.a,{type:"allert",onClick:function(){l(!0),setTimeout((function(){return l(!1)}),3e3)}},"Show announces"))):c.a.createElement("h1",{align:"center"},"Please sign in"))}n(94);function H(){return c.a.createElement("div",{className:"about"},c.a.createElement("h1",{align:"center"},"Announcer"),c.a.createElement("div",null,"This is one of ",c.a.createElement("a",{href:"http://marikkv.github.io"},"my")," project  for portfolio."),c.a.createElement("div",null,"In this app you can:",c.a.createElement("ul",null,c.a.createElement("li",null,"Sign In with socials."),c.a.createElement("li",null,"Add, edit and delete announcement."))),c.a.createElement("div",null,"App created with using:",c.a.createElement("ul",null,c.a.createElement("li",null,"React.js (Functional components)"),c.a.createElement("li",null,"Redux"),c.a.createElement("li",null,"Firebase (Firebase Firestore, Firebase Autentication)"))),c.a.createElement("div",null,"Additional technologies and libraries used:",c.a.createElement("ul",null,c.a.createElement("li",null,"React Bootstrap"),c.a.createElement("li",null,"React SCSS"),c.a.createElement("li",null,"Animate.css"),c.a.createElement("li",null,"GitHub Pages"))))}function G(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(d.c)((function(e){return e.searchAnnounce}));return Object(a.useEffect)((function(){b.collection("Announce").get().then((function(e){!function(e,t){var n=[];e.map((function(e){return e.title.toLowerCase().includes(t.toLowerCase())&&n.push(e),!0})),l(n.slice(0,3))}(e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())})),r)})).catch((function(e){console.error("Error removing announce: ",e)}))}),[r]),c.a.createElement("div",null,n.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{align:"center"},"Announces that contains -  '",r,"' "),c.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Title"),c.a.createElement("th",null,"Describe"),c.a.createElement("th",null,"Add at"))),c.a.createElement("tbody",null,n.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.title),c.a.createElement("td",{className:"table_deskribe"},e.describe),c.a.createElement("td",null,c.a.createElement("b",null,function(e){var t=Date(e),n=new Date(t);return n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear()}(e.date))))}))))):c.a.createElement("h2",{align:"center"}," There is none announce that contains -  '",r,"'"))}var P=function(){return c.a.createElement(o.a,{basename:"/"},c.a.createElement(u.b,{path:"/",component:_}),c.a.createElement(u.b,{exact:!0,path:"/",component:j}),c.a.createElement(u.b,{exact:!0,path:"/Home",component:B}),c.a.createElement(u.b,{exact:!0,path:"/AllAnnounces",component:C}),c.a.createElement(u.b,{exact:!0,path:"/MyAnnounces",component:x}),c.a.createElement(u.b,{exact:!0,path:"/Messages",component:U}),c.a.createElement(u.b,{exact:!0,path:"/Search",component:G}),c.a.createElement(u.b,{exact:!0,path:"/SignIn",component:F}),c.a.createElement(u.b,{exact:!0,path:"/About",component:H}))},V=n(28),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ANNOUNCE":return e=t.payload;default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!e;default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER_IN_STORE":return e=t.payload;default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_ANNOUNCES":return e=t.payload;default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_USER_ANNOUNCES":return e=t.payload;default:return e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_ANNOUNCE":return e=t.payload;default:return e}},Q=Object(V.b)({addNewAnnounce:J,isLogged:W,saveUserInStore:Y,allAnnounces:z,myAnnounces:q,searchAnnounce:K});var X=function(){try{var e=localStorage.getItem("my-state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),Z=Object(V.c)(Q,X);Z.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("my-state",t)}catch(n){console.log(n)}}(Z.getState())}));var $=Z;r.a.render(c.a.createElement(d.a,{store:$},c.a.createElement(c.a.Fragment,null,c.a.createElement(P,null))),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.f6e0353f.chunk.js.map