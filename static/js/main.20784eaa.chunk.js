(this.webpackJsonpannouncer=this.webpackJsonpannouncer||[]).push([[0],{65:function(e,t,n){e.exports=n(95)},79:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(17),r=n.n(l),o=n(47),u=n(8),i=n(37),m=n(11),s=n(7),d=function(e){return{type:"SAVE_USER_IN_STORE",payload:e}},E=function(e){return{type:"GET_ALL_USER_ANNOUNCES",payload:e}},f=n(5);n(54),n(77);f.initializeApp({apiKey:"AIzaSyBXB-_qUAcdqzMRwH1LfMpQF9Bx69TSxWI",authDomain:"announcer-55703.firebaseapp.com",databaseURL:"https://announcer-55703.firebaseio.com",projectId:"announcer-55703",storageBucket:"announcer-55703.appspot.com",messagingSenderId:"200206777207",appId:"1:200206777207:web:28d190a83008f14f4c7f72"});var b=f.firestore(),h=n(102),v=n(101),g=n(100),p=n(58),_=n(97);n(79);function A(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],l=t[1],r=Object(s.c)((function(e){return e.isLogged})),o=Object(s.b)();return c.a.createElement("div",{className:"menu"},c.a.createElement(h.a,Object(i.a)({bg:"primary",variant:"dark",className:"menuFixed",collapseOnSelect:!0,expand:"lg"},"bg","dark"),c.a.createElement(h.a.Brand,{href:"/"},"Announcer"),c.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r?c.a.createElement(h.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(v.a,{className:"mr-auto"},c.a.createElement(v.a.Link,{href:"#/Home"},"Home"),c.a.createElement(v.a.Link,{href:"#/Announce"},"Announces"),c.a.createElement(v.a.Link,{href:"#/About"},"About")),c.a.createElement(g.a,{inline:!0,onSubmit:function(e){e.preventDefault(),o({type:"SEARCH_ANNOUNCE",payload:n}),window.location="#/Search"}},c.a.createElement(p.a,{type:"text",placeholder:"Search",className:"mr-sm-2",value:n,onChange:function(e){return l(e.target.value)}}),c.a.createElement(_.a,{type:"submit"},"Submit")),c.a.createElement(v.a.Link,{href:"",onClick:function(){return f.auth().signOut(),o({type:"SIGN_IN"}),void o(d({}))},className:"navLink"},"Log Out")):c.a.createElement(h.a.Collapse,{className:"justify-content-end"},c.a.createElement(v.a.Link,{href:"#/SignIn",className:"navLink"},"Sign In"))))}n(81);function O(){return c.a.createElement("div",{className:"landing"},c.a.createElement("div",{className:"landing_box welcome animate__animated animate__bounce"},"Welcome to Announcer!"),c.a.createElement("div",{className:"landing_box join animate__animated animate__bounceInRight animate__delay-1s"},"Join to us"),c.a.createElement("div",{className:"landing_box create animate__animated animate__bounceInLeft animate__delay-2s"},"Create your announcement"),c.a.createElement("div",{className:"landing_box save animate__animated animate__bounceInUp animate__delay-3s"},"Save and edit them"),c.a.createElement("a",{className:"about animate__animated animate__fadeIn animate__delay-4s",href:"#/About"},"About this project"))}var S=n(25);n(82);function N(){var e=Object(s.c)((function(e){return e.saveUserInStore})),t=Object(s.b)(),n=Object(a.useState)(""),l=Object(m.a)(n,2),r=l[0],o=l[1],u=Object(a.useState)(""),i=Object(m.a)(u,2),d=i[0],f=i[1],h=function(){b.collection("Announce").get().then((function(e){var n=e.docs.map((function(e){return Object(S.a)({id:e.id},e.data())}));console.log(n),t(E(n))})).catch((function(e){return console.log(e)}))};return c.a.createElement("div",null,c.a.createElement("div",{className:"addNewAnnounceForm"},c.a.createElement(g.a,{onSubmit:function(n){n.preventDefault(),console.log("Title - ".concat(r,". Describe - ").concat(d,"."));var a={title:r,describe:d,userId:e.id};t({type:"ADD_ANNOUNCE",payload:a}),b.collection("Announce").doc().set({userId:e.id,title:r,describe:d,date:Date.now()}).then((function(){console.log("Announce successfully added!"),h(),o(""),f("")})).catch((function(e){console.error("Error adding announce: ",e)}))},className:"form"},c.a.createElement(g.a.Label,null,"Title"),c.a.createElement(g.a.Control,{type:"text",value:r,onChange:function(e){return o(e.target.value)}}),c.a.createElement(g.a.Label,null,"Describe"),c.a.createElement(g.a.Control,{as:"textarea",rows:"3",value:d,onChange:function(e){return f(e.target.value)}}),c.a.createElement(_.a,{type:"submit"},"Add new announce"))))}var y=n(98),j=n(99);n(83);function I(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],l=t[1],r=function(){return l(!1)},o=Object(a.useState)(""),u=Object(m.a)(o,2),i=u[0],d=u[1],f=Object(a.useState)(""),h=Object(m.a)(f,2),v=h[0],p=h[1],A=Object(a.useState)(""),O=Object(m.a)(A,2),I=O[0],C=O[1],k=Object(s.c)((function(e){return e.allAnnounces})),w=Object(a.useState)(!1),D=Object(m.a)(w,2),L=D[0],R=D[1],x=Object(s.b)(),U=function(e){b.collection("Announce").doc(e).get().then((function(t){if(!t.exists)return null;var n=t.data();d(e),p(n.title),C(n.describe),l(!0)})).catch((function(e){console.log(e)}))},T=function(){b.collection("Announce").get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)({id:e.id},e.data())}));t.sort((function(e,t){return e.date-t.date})),x(E(t))})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){b.collection("Announce").get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)({id:e.id},e.data())}));t.sort((function(e,t){return e.date-t.date})),x(E(t))})).catch((function(e){return console.log(e)}))}),[x]),c.a.createElement("div",{className:"allAnnounces animate__animated"},c.a.createElement("div",{className:L?"allAnnounces_Table_Active":"allAnnounces_Table"},c.a.createElement("h1",{align:"center"},"All announces"),c.a.createElement(y.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Title"),c.a.createElement("th",null,"Describe"),c.a.createElement("th",null,"Add at"),c.a.createElement("th",null,"Edit announce"),c.a.createElement("th",null,"Delete announce"))),c.a.createElement("tbody",null,k.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.title),c.a.createElement("td",{className:"table_deskribe"},e.describe),c.a.createElement("td",null,c.a.createElement("b",null,function(e){var t=Date(e),n=new Date(t);return n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear()}(e.date))),c.a.createElement("td",null,c.a.createElement(_.a,{variant:"warning",value:e.id,onClick:function(e){return U(e.target.value)}},"Edit")),c.a.createElement("td",null,c.a.createElement(_.a,{variant:"danger",value:e.id,onClick:function(e){return t=e.target.value,void b.collection("Announce").doc(t).delete().then((function(){console.log("Annaunce successfully deleted!"),T()})).catch((function(e){console.error("Error removing announce: ",e)}));var t}},"Delete")))}))))),c.a.createElement("div",{className:L?"allAnnounces_Add animate__animated animate__fadeOutRight":"allAnnounces_Add_Active animate__animated animate__fadeInRight"},c.a.createElement(N,null)),c.a.createElement("div",{className:"togleForm",onClick:function(){R(!L)}},L?"<":">"),c.a.createElement(j.a,{show:n,onHide:r},c.a.createElement(j.a.Header,{closeButton:!0},c.a.createElement(j.a.Title,null,"Editing announce")),c.a.createElement(j.a.Body,null,c.a.createElement(g.a,null,c.a.createElement(g.a.Label,null,"Title"),c.a.createElement(g.a.Control,{value:v,onChange:function(e){return p(e.target.value)}}),c.a.createElement(g.a.Label,null,"Describe"),c.a.createElement(g.a.Control,{as:"textarea",rows:"4",value:I,onChange:function(e){return C(e.target.value)}}))),c.a.createElement(j.a.Footer,null,c.a.createElement(_.a,{variant:"secondary",onClick:r},"Close"),c.a.createElement(_.a,{variant:"primary",onClick:function(){b.collection("Announce").doc(i).update({title:v,describe:I,date:Date.now()}).then((function(){console.log("Announce successfully edited!")})).catch((function(e){console.error("Error edit announce: ",e)})),setTimeout((function(){T(),r()}),500)}},"Save Changes"))))}var C=n(63),k=n.n(C);function w(){var e=Object(s.b)(),t={signInFlow:"popup",signInOptions:[f.auth.GoogleAuthProvider.PROVIDER_ID,f.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};return Object(a.useEffect)((function(){f.auth().onAuthStateChanged((function(t){if(t){var n={email:t.email,name:t.displayName,photoUrl:t.photoURL,emailVerified:t.emailVerified,id:t.uid};e({type:"SIGN_IN"}),e(d(n))}}))}),[e]),c.a.createElement("div",null,c.a.createElement(k.a,{uiConfig:t,firebaseAuth:f.auth()}))}n(91);function D(){var e=Object(s.c)((function(e){return e.isLogged})),t=Object(s.c)((function(e){return e.saveUserInStore}));return c.a.createElement("div",null,e?c.a.createElement("h1",{align:"center"},"You already logged as ",t.name," ",t.lastname):c.a.createElement(c.a.Fragment,null,c.a.createElement(w,null)))}n(92);function L(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],l=t[1],r=Object(s.c)((function(e){return e.isLogged})),o=Object(s.c)((function(e){return e.saveUserInStore})),i=Object(s.c)((function(e){return e.allAnnounces})),d=Object(a.useState)(0),E=Object(m.a)(d,2),f=E[0],b=E[1];return Object(a.useEffect)((function(){b(i.length)}),[i]),n?c.a.createElement(u.a,{to:"Announce"}):c.a.createElement("div",null,r?c.a.createElement("div",{className:"mainInfoBlock animate__animated animate__bounceInUp"},c.a.createElement("div",{className:"infoBlock"},c.a.createElement("h1",null,"Welcome back ",o.name," ",o.lastname,"!"),c.a.createElement("h2",null,"We have ",c.a.createElement("span",{className:"lime"},f)," announces for you",c.a.createElement("br",null)),c.a.createElement("br",null),c.a.createElement(_.a,{type:"allert",onClick:function(){l(!0),setTimeout((function(){return l(!1)}),3e3)}},"Show announces"))):c.a.createElement("h1",{align:"center"},"Please sign in"))}n(94);function R(){return c.a.createElement("div",{className:"about"},c.a.createElement("h1",{align:"center"},"Announcer"),c.a.createElement("div",null,"This is one of ",c.a.createElement("a",{href:"http://marikkv.github.io"},"my")," project  for portfolio."),c.a.createElement("div",null,"In this app you can:",c.a.createElement("ul",null,c.a.createElement("li",null,"Sign In with socials."),c.a.createElement("li",null,"Add, edit and delete announcement."))),c.a.createElement("div",null,"App created with using:",c.a.createElement("ul",null,c.a.createElement("li",null,"React.js (Functional components)"),c.a.createElement("li",null,"Redux"),c.a.createElement("li",null,"Firebase (Firebase Firestore, Firebase Autentication)"))),c.a.createElement("div",null,"Additional technologies and libraries used:",c.a.createElement("ul",null,c.a.createElement("li",null,"React Bootstrap"),c.a.createElement("li",null,"React SCSS"),c.a.createElement("li",null,"Animate.css"),c.a.createElement("li",null,"GitHub Pages"))))}function x(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],l=t[1],r=Object(s.c)((function(e){return e.searchAnnounce}));return Object(a.useEffect)((function(){b.collection("Announce").get().then((function(e){!function(e,t){var n=[];e.map((function(e){return e.title.toLowerCase().includes(t.toLowerCase())&&n.push(e),!0})),l(n.slice(0,3))}(e.docs.map((function(e){return Object(S.a)({id:e.id},e.data())})),r)})).catch((function(e){console.error("Error removing announce: ",e)}))}),[r]),c.a.createElement("div",null,n.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{align:"center"},"Announces that contains -  '",r,"' "),c.a.createElement(y.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Title"),c.a.createElement("th",null,"Describe"),c.a.createElement("th",null,"Add at"))),c.a.createElement("tbody",null,n.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.title),c.a.createElement("td",{className:"table_deskribe"},e.describe),c.a.createElement("td",null,c.a.createElement("b",null,function(e){var t=Date(e),n=new Date(t);return n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear()}(e.date))))}))))):c.a.createElement("h2",{align:"center"}," There is none announce that contains -  '",r,"'"))}var U=function(){return c.a.createElement(o.a,{basename:"/"},c.a.createElement(u.b,{path:"/",component:A}),c.a.createElement(u.b,{exact:!0,path:"/",component:O}),c.a.createElement(u.b,{exact:!0,path:"/Home",component:L}),c.a.createElement(u.b,{exact:!0,path:"/Announce",component:I}),c.a.createElement(u.b,{exact:!0,path:"/Search",component:x}),c.a.createElement(u.b,{exact:!0,path:"/SignIn",component:D}),c.a.createElement(u.b,{exact:!0,path:"/About",component:R}))},T=n(27),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ANNOUNCE":return e=t.payload;default:return e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!e;default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER_IN_STORE":return e=t.payload;default:return e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_USER_ANNOUNCES":return e=t.payload;default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_ANNOUNCE":return e=t.payload;default:return e}},V=Object(T.b)({addNewAnnounce:F,isLogged:B,saveUserInStore:H,allAnnounces:G,searchAnnounce:P});var J=function(){try{var e=localStorage.getItem("my-state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),W=Object(T.c)(V,J);W.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("my-state",t)}catch(n){console.log(n)}}(W.getState())}));var M=W;r.a.render(c.a.createElement(s.a,{store:M},c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null))),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.20784eaa.chunk.js.map